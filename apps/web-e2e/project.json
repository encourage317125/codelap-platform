{
  "root": "apps/web-e2e",
  "sourceRoot": "apps/web-e2e/src",
  "projectType": "application",
  "targets": {
    "e2e": {
      "executor": "@nrwl/cypress:cypress",
      "options": {
        "cypressConfig": "apps/web-e2e/cypress.json",
        "tsConfig": "apps/web-e2e/tsconfig.e2e.json",
        "baseUrl": "http://127.0.0.1:3001"
      },
      "configurations": {
        "ci": {
          "cypressConfig": "apps/web-e2e/cypress.ci.json",
          "devServerTarget": "web-e2e:serve:ci",
          "headless": true,
          "record": true,
          "browser": "firefox"
        },
        "test": {
          "cypressConfig": "apps/web-e2e/cypress.test.json",
          "devServerTarget": "web-e2e:serve:test",
          "headless": true,
          "record": false
        },
        "dev": {
          "cypressConfig": "apps/web-e2e/cypress.ci.json",
          "devServerTarget": "web-e2e:serve:dev",
          "watch": true,
          "exit": false
        },
        "start": {
          "cypressConfig": "apps/web-e2e/cypress.ci.json",
          "baseUrl": "http://127.0.0.1:3000",
          "watch": true,
          "exit": false
        }
      }
    },
    "serve": {
      "executor": "@nrwl/workspace:run-commands",
      "options": {
        "parallel": true,
        "readyWhen": "READY"
      },
      "configurations": {
        "dev": {
          "commands": [
            {
              "command": "yarn cli dgraph update-schema --env test && yarn cli dgraph reset-data --env test",
              "forwardAllArgs": false
            },
            {
              "command": "nx serve api",
              "forwardAllArgs": false
            },
            {
              "command": "nx serve web --configuration test",
              "forwardAllArgs": false
            },
            {
              "command": "npx wait-on 'http://127.0.0.1:3001' 'http://127.0.0.1:3334' && echo 'READY'"
            }
          ]
        },
        "ci": {
          "commands": [
            {
              "command": "yarn cli dgraph update-schema --env ci && yarn cli dgraph reset-data --env ci",
              "forwardAllArgs": false
            },
            {
              "command": "npx next start dist/apps/web --port 3001",
              "forwardAllArgs": false
            },
            {
              "command": "node dist/apps/api/main.js",
              "forwardAllArgs": false
            },
            {
              "command": "npx wait-on 'http://127.0.0.1:3001' 'http://127.0.0.1:3334' && echo 'READY'"
            }
          ]
        },
        "test": {
          "commands": [
            {
              "command": "yarn cli dgraph update-schema --env ci && yarn cli dgraph reset-data --env ci",
              "forwardAllArgs": false
            },
            {
              "command": "next start dist/apps/web-test --port 3001",
              "forwardAllArgs": false
            },
            {
              "command": "node dist/apps/api/main.js",
              "forwardAllArgs": false
            },
            {
              "command": "npx wait-on 'http://127.0.0.1:3001' 'http://127.0.0.1:3334' && echo 'READY'"
            }
          ]
        }
      }
    },
    "lint": {
      "executor": "@nrwl/linter:eslint",
      "options": {
        "lintFilePatterns": ["apps/web-e2e/**/*.{js,ts}"]
      },
      "outputs": ["{options.outputFile}"],
      "configurations": {
        "ci": {
          "eslintConfig": "apps/web-e2e/.eslintrc.ci.json"
        }
      }
    }
  },
  "tags": ["scope:e2e"],
  "implicitDependencies": ["web"]
}
